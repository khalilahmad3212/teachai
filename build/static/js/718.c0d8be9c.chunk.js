"use strict";(self.webpackChunkteachai=self.webpackChunkteachai||[]).push([[718],{1718:function(e,r,t){t.d(r,{Z:function(){return j}});var n=t(2791),a=t(4165),s=t(5861),o=t(4942),l=t(1413),c=t(9439),i=t(184),d=function(e){var r=e.heading,t=e.children;return(0,i.jsxs)("div",{className:" mx-3 my-4 shadow-gray-300 rounded-md shadow-md px-10 py-7",children:[(0,i.jsx)("h3",{className:" my-2 mb-4 text-2xl font-bold",children:r}),t]})},u=t(9085),p=t(583),x=t(3872),g=function(){var e=(0,n.useState)({}),r=(0,c.Z)(e,2),t=r[0],g=r[1],b=(0,n.useContext)(p.S),h=b.user,f=b.getUserData,m=function(e){var r=e.target,t=r.name,n=r.value;g((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,o.Z)({},t,n))}))},w=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r){var n,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,console.log("request_data: ",t),e.next=5,x.Z.put("/me",t);case 5:n=e.sent,s=n.data,f(),console.log("data: ",s),(0,u.Am)("Profile Updated!"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("Error: ",e.t0),(0,u.Am)("Profile Udpated Failed!");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(r){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){g({firstName:null===h||void 0===h?void 0:h.firstName,lastName:null===h||void 0===h?void 0:h.lastName,country:null===h||void 0===h?void 0:h.country,emailUpdate:null===h||void 0===h?void 0:h.emailUpdate})}),[]),(0,i.jsx)(d,{heading:"My Details",children:(0,i.jsx)("div",{children:(0,i.jsxs)("form",{class:"w-full max-w-lg",onSubmit:w,children:[(0,i.jsxs)("div",{class:"flex flex-wrap -mx-3 mb-6",children:[(0,i.jsxs)("div",{class:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:[(0,i.jsx)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-first-name",children:"First Name"}),(0,i.jsx)("input",{onChange:m,name:"firstName",value:null===t||void 0===t?void 0:t.firstName,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-red-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white",id:"grid-first-name",type:"text",placeholder:"Jane"})]}),(0,i.jsxs)("div",{class:"w-full md:w-1/2 px-3",children:[(0,i.jsx)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-last-name",children:"Last Name"}),(0,i.jsx)("input",{onChange:m,name:"lastName",value:null===t||void 0===t?void 0:t.lastName,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-last-name",type:"text",placeholder:"Doe"})]})]}),(0,i.jsx)("div",{class:"flex flex-wrap -mx-3 mb-2",children:(0,i.jsxs)("div",{class:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:[(0,i.jsx)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-state",children:"Country"}),(0,i.jsx)("input",{onChange:m,name:"country",value:null===t||void 0===t?void 0:t.country,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-last-name",type:"text",placeholder:"Enter Your Country"})]})}),(0,i.jsx)("button",{className:" bg-blue-600 py-3 px-5 rounded text-white mt-4",type:"submit",children:"Update Details"})]})})})},b=function(){var e=(0,n.useState)(""),r=(0,c.Z)(e,2),t=r[0],o=r[1],l=(0,n.useState)(""),p=(0,c.Z)(l,2),g=p[0],b=p[1],h=(0,n.useState)(""),f=(0,c.Z)(h,2),m=f[0],w=f[1],v=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g===m){e.next=3;break}return(0,u.Am)("New Password Must repeat same"),e.abrupt("return");case 3:return r={currentPassword:t,newPassword:g,confirmNewPassword:m},e.prev=4,e.next=7,x.Z.put("/changepassword",r);case 7:e.sent,(0,u.Am)("password changed!"),o(""),b(""),w(""),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log("Error: ",e.t0),(0,u.Am)("Error While Password Change");case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(){return e.apply(this,arguments)}}();return(0,i.jsxs)(d,{heading:"Change Password",children:[(0,i.jsx)("div",{class:"flex flex-wrap -mx-3 mb-6 w-8/12",children:(0,i.jsxs)("div",{class:"w-full px-3",children:[(0,i.jsx)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-password",children:"Current Password"}),(0,i.jsx)("input",{onChange:function(e){return o(e.target.value)},value:t,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-password",type:"password",placeholder:"Current Password"})]})}),(0,i.jsx)("div",{class:"flex flex-wrap -mx-3 w-8/12",children:(0,i.jsxs)("div",{class:"w-full px-3",children:[(0,i.jsx)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-password",children:"New Password"}),(0,i.jsx)("input",{onChange:function(e){return b(e.target.value)},value:g,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-password",type:"password",placeholder:"New Password"})]})}),(0,i.jsx)("div",{class:"flex flex-wrap -mx-3 w-8/12",children:(0,i.jsx)("div",{class:"w-full px-3",children:(0,i.jsx)("input",{onChange:function(e){return w(e.target.value)},value:m,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-password",type:"password",placeholder:"Confirm Password"})})}),(0,i.jsx)("button",{onClick:v,className:" bg-blue-600 py-3 px-5 rounded text-white mt-4",type:"submit",children:"Change Password"})]})},h=t(98),f=t(7689),m=function(){var e=(0,f.s0)(),r=(0,n.useContext)(h._).usage,t=(0,n.useContext)(p.S),o=t.setIsAuthenticated,l=t.setUser,c=function(){var r=(0,s.Z)((0,a.Z)().mark((function r(){return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,x.Z.delete("/account");case 3:r.sent,(0,u.Am)("Account Successfuly Deleted"),delete x.Z.defaults.headers.common.Authorization,localStorage.removeItem("teachai_token"),localStorage.removeItem("teachai_user"),o(!1),l(null),e("/"),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(0),console.log("Error While Deleting ACcount: ",r.t0),(0,u.Am)("Error While Deleting Account");case 17:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(){return r.apply(this,arguments)}}();return(0,i.jsx)(d,{heading:"My Subscription",children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:" text-2xl font-bold",children:"Access Level:"})," ",null===r||void 0===r?void 0:r.plan," "]}),(0,i.jsx)("button",{onClick:c,className:" bg-blue-600 py-3 px-5 rounded text-white mt-4",type:"submit",children:"Account Deletion"})]})})},w=function(){(0,f.s0)(),(0,n.useContext)(h._).usage;var e=(0,n.useContext)(p.S),r=(e.setIsAuthenticated,e.setUser,function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.delete("/payment/cancel-subscription");case 3:e.sent,(0,u.Am)("Successfully Unsubscribed"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error While Unsubscribing: ",e.t0),(0,u.Am)("Error While Unsubscribing");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}());return(0,i.jsx)(d,{heading:"Cancel Subscription",children:(0,i.jsx)("div",{children:(0,i.jsx)("button",{onClick:r,className:" bg-blue-600 py-3 px-5 rounded text-white mt-4",type:"submit",children:"Cancel Subscription"})})})},v=function(){var e=(0,n.useState)(""),r=(0,c.Z)(e,2),t=r[0],o=r[1],l=(0,n.useState)(""),p=(0,c.Z)(l,2),g=p[0],b=p[1],h=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={email:t,password:g},e.prev=1,e.next=4,x.Z.put("/changeEmail",r);case 4:e.sent,(0,u.Am)("Email Changed"),o(""),b(""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Error: ",e.t0),(0,u.Am)("Error While changing the Email!");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return(0,i.jsx)(d,{heading:"Change Email Address",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{class:"flex flex-wrap -mx-3 w-8/12",children:(0,i.jsxs)("div",{class:"w-full px-3",children:[(0,i.jsx)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-password",children:"Email"}),(0,i.jsx)("input",{onChange:function(e){return o(e.target.value)},value:t,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-password",type:"email",placeholder:"Enter Your New Email"})]})}),(0,i.jsx)("div",{class:"flex flex-wrap -mx-3 w-8/12",children:(0,i.jsxs)("div",{class:"w-full px-3",children:[(0,i.jsx)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-password",children:"Confirm Password"}),(0,i.jsx)("input",{onChange:function(e){return b(e.target.value)},value:g,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-password",type:"password",placeholder:"Your Password"})]})}),(0,i.jsx)("button",{onClick:h,className:" bg-blue-600 py-3 px-5 rounded text-white mt-4",type:"submit",children:"Change Email Address"})]})})},y=function(){var e=(0,n.useContext)(p.S),r=e.user,t=e.getUserData,o=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r){var n,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.put("/enable-2fa",{enabled:r});case 3:n=e.sent,n.data,s=r?"2FA is Enabled":"2FA is Disabled",(0,u.Am)(s),t(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),(0,u.Am)("error while 2fa");case 13:console.log("change 2fa");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r){return e.apply(this,arguments)}}();return(0,i.jsx)(d,{heading:"Secure Your Account",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-xl font-['Poppins']",children:"Two-factor authentication adds an extra layer of security to your account. To log in, in addition you'll need to provide a 6 digit code."}),(0,i.jsxs)("div",{className:"flex gap-5",children:[(0,i.jsx)("button",{className:" bg-blue-600 py-3 px-5 rounded text-white mt-4",type:"submit",children:"Enable 2FA"}),(0,i.jsx)("button",{onClick:function(){return o(!0)},className:" border-2 border-blue-600 py-3 px-5 rounded mt-4",type:"submit",children:"Yes"}),(0,i.jsx)("button",{onClick:function(){return o(!1)},className:" border-2 border-blue-600 py-3 px-5 rounded mt-4",type:"submit",children:"No"})]}),(0,i.jsxs)("div",{children:["Status: ",null!==r&&void 0!==r&&r.TwoFA?"Yes":"No"]})]})})},j=function(){var e=(0,n.useContext)(h._).usage;return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:" grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,i.jsx)(g,{}),(0,i.jsx)(y,{}),(0,i.jsx)(b,{}),(0,i.jsx)(v,{}),(0,i.jsx)(m,{}),(null===e||void 0===e?void 0:e.payment)&&(0,i.jsx)(w,{})]})})}}}]);
//# sourceMappingURL=718.c0d8be9c.chunk.js.map