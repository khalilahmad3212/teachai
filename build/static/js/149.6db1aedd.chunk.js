"use strict";(self.webpackChunkteachai=self.webpackChunkteachai||[]).push([[149],{9149:function(e,t,r){r.r(t),r.d(t,{default:function(){return C}});var a=r(2791),s=r(1087),n=r(184),l=function(){return(0,n.jsx)("aside",{className:"w-full md:w-60 min-h-[30rem] pt-5",children:(0,n.jsx)("div",{className:"p-2",children:(0,n.jsxs)("ul",{className:"space-y-2 md:space-y-4 grid grid-cols-1",children:[(0,n.jsx)("li",{children:(0,n.jsxs)(s.rU,{to:"/admin/dashboard/users",className:"flex items-center rounded-xl font-bold text-sm text-yellow-900 py-3 px-4",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",className:"text-lg mr-4",viewBox:"0 0 16 16",children:(0,n.jsx)("path",{d:"M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zM16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zm-3.5-7h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5z"})}),"Users"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)(s.rU,{to:"/admin/dashboard/post/new",className:"flex rounded-xl font-bold text-sm text-gray-900 py-3 px-4",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",className:"text-lg mr-4",viewBox:"0 0 16 16",children:(0,n.jsx)("path",{d:"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM5 4h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1zm0 2h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1z"})}),"Add Post"]})}),(0,n.jsx)("li",{children:(0,n.jsxs)(s.rU,{to:"/admin/dashboard/settings",className:"flex rounded-xl font-bold text-sm text-gray-900 py-3 px-4",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",className:"text-lg mr-4",viewBox:"0 0 16 16",children:(0,n.jsx)("path",{d:"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM5 4h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1zm0 2h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1z"})}),"Settings"]})})]})})})},o=r(4165),i=r(5861),c=r(583),d=r(98),u=r(9085),x=r(3872),p=function(){var e=(0,a.useContext)(c.S),t=e.users,r=e.getAllUsers,s=((0,a.useContext)(d._).usage,function(e){var t=new Date(e),r=new Date(t);r.setDate(t.getDate()+30);var a="".concat(r.getDate().toString().padStart(2,"0")," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][r.getMonth()]," ").concat(r.getFullYear());return console.log(a),a}),l=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t,a){var s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.put("/plan/cancel",{userId:t,usageId:a});case 3:s=e.sent,s.data,r(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error: ",e.t0),(0,u.Am)("Error While canceling the Plan");case 12:console.log("User ID: ",t),console.log("Usage ID: ",a);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t,a){var s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.delete("/admin/users/".concat(t));case 3:s=e.sent,s.data,(0,u.Am)("User deleted Successfully"),r(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Error: ",e.t0),(0,u.Am)("Error While Deleting the Plan");case 13:console.log("User ID: ",t),console.log("Usage ID: ",a);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}();return(0,n.jsx)("div",{className:"container mx-auto",children:(0,n.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"py-2 px-4 border-b",children:"No."}),(0,n.jsx)("th",{className:"py-2 px-4 border-b",children:"First Name"}),(0,n.jsx)("th",{className:"py-2 px-4 border-b",children:"Last Name"}),(0,n.jsx)("th",{className:"py-2 px-4 border-b",children:"Email"}),(0,n.jsx)("th",{className:"py-2 px-4 border-b",children:"Role"}),(0,n.jsx)("th",{className:"py-2 px-4 border-b text-start",children:"Plan"}),(0,n.jsx)("th",{className:"py-2 px-4 border-b",children:"Usage"}),(0,n.jsx)("th",{className:"py-2 px-4 border-b",children:"Expiry Date"}),(0,n.jsx)("th",{className:"py-2 px-4 border-b",children:"Status"}),(0,n.jsx)("th",{className:"py-2 px-4 border-b",children:"Delete"})]})}),(0,n.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((function(e,t){var r,a,o,i;return(0,n.jsxs)("tr",{className:"text-center",children:[(0,n.jsx)("td",{className:"py-2 px-4 border-b",children:t+1}),(0,n.jsx)("td",{className:"py-2 px-4 border-b",children:null===(r=e.user)||void 0===r?void 0:r.firstName}),(0,n.jsx)("td",{className:"py-2 px-4 border-b",children:null===(a=e.user)||void 0===a?void 0:a.lastName}),(0,n.jsx)("td",{className:"py-2 px-4 border-b",children:null===(o=e.user)||void 0===o?void 0:o.email}),(0,n.jsx)("td",{className:"py-2 px-4 border-b",children:null===(i=e.user)||void 0===i?void 0:i.role}),(0,n.jsx)("td",{className:"py-2 px-4 border-b text-start",children:e.plan}),(0,n.jsxs)("td",{className:"py-2 px-4 border-b",children:[e.usageCount,"/",null===e.usageLimit?"Unlimited":null===e||void 0===e?void 0:e.usageLimit]}),(0,n.jsx)("td",{className:"py-2 px-4 border-b",children:null!==e&&void 0!==e&&e.paymentDate?s(null===e||void 0===e?void 0:e.paymentDate):"-"}),(0,n.jsx)("td",{className:"py-2 px-4 border-b",children:["Starter","Professional"].includes(null===e||void 0===e?void 0:e.plan)&&(0,n.jsx)("button",{className:" bg-blue-400 px-2 rounded text-sm text-white",onClick:function(){var t;return l(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t._id,e._id)},children:"Cancel"})}),(0,n.jsx)("td",{className:"py-2 px-4 border-b",children:(0,n.jsx)("button",{className:" bg-blue-400 px-2 rounded text-sm text-white",onClick:function(){var t;return p(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t._id,e._id)},children:"Delete"})})]},e._id)}))})]})})},h=r(7689),m=r(7762),g=r(9439),f=r(6584),b=r(2443),v=r.n(b),y=r(8820),j=r(1243),w=r(6588),N=function(){var e=(0,a.useState)({headers:{"Content-Type":"multipart/form-data",authorization:"Bearer ".concat(localStorage.getItem("teachai_token"))}}),t=(0,g.Z)(e,2),r=t[0],l=(t[1],(0,a.useRef)(null)),c=(0,a.useRef)(null),d=(0,a.useState)(""),x=(0,g.Z)(d,2),p=x[0],h=x[1],b=(0,a.useState)(""),N=(0,g.Z)(b,2),Z=N[0],k=N[1],S=(0,a.useState)(""),C=(0,g.Z)(S,2),A=C[0],D=C[1],E=(0,a.useState)(""),P=(0,g.Z)(E,2),U=P[0],I=(P[1],(0,a.useState)("")),_=(0,g.Z)(I,2),z=_[0],F=_[1],H=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var a,s,n,i,d,x,g,f;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(a=new FormData).append("title",Z),a.append("image",p),a.append("content",A),e.prev=5,s=(0,m.Z)(a.entries());try{for(s.s();!(n=s.n()).done;)i=n.value,console.log(i[0]+", "+i[1])}catch(o){s.e(o)}finally{s.f()}return e.next=10,j.Z.post("".concat(w.addstory_url,"/story/addstory"),a,r);case 10:d=e.sent,x=d.data,console.log("Data: ",x),(0,u.Am)("Add Post Successful"),k(""),D(""),h(""),c.current.editor.setData(""),l.current.value="",e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),console.log("Here is error!: ",e.t0),F(null===e.t0||void 0===e.t0||null===(g=e.t0.response)||void 0===g||null===(f=g.data)||void 0===f?void 0:f.error);case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}();return(0,n.jsx)("div",{className:"Inclusive-addStory-page",children:(0,n.jsxs)("form",{onSubmit:H,className:"addStory-form",children:[z&&(0,n.jsx)("div",{className:"error_msg",children:z}),U&&(0,n.jsxs)("div",{className:"success_msg",children:[(0,n.jsx)("span",{children:U}),(0,n.jsx)(s.rU,{to:"/",children:"Go home"})]}),(0,n.jsx)("input",{type:"text",required:!0,id:"title",placeholder:"Title",onChange:function(e){return k(e.target.value)},value:Z,className:"mb-3"}),(0,n.jsx)("div",{className:"prose",style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,n.jsx)(f.CKEditor,{editor:v(),config:{toolbar:["heading","|","bold","italic","blockQuote","link","numberedList","bulletedList"]},onChange:function(e,t){var r=t.getData();D(r)},ref:c})}),(0,n.jsxs)("div",{class:"StoryImageField",children:[(0,n.jsx)(y.aBR,{}),(0,n.jsx)("div",{class:"txt",children:p?p.name:" Include a high-quality image in your story to make it more inviting to readers."}),(0,n.jsx)("input",{name:"image",type:"file",ref:l,onChange:function(e){h(e.target.files[0])}})]}),(0,n.jsx)("button",{type:"submit",disabled:!p,className:p?"addStory-btn":"dis-btn",children:"Publish "})]})})},Z=r(224),k=function(){var e=(0,a.useState)({headers:{"Content-Type":"multipart/form-data",authorization:"Bearer ".concat(localStorage.getItem("teachai_token"))}}),t=(0,g.Z)(e,2),r=t[0],l=(t[1],(0,h.UO)().slug),c=(0,a.useRef)(null),d=(0,a.useState)(!0),p=(0,g.Z)(d,2),m=p[0],b=p[1],N=(0,a.useState)({}),k=(0,g.Z)(N,2),S=(k[0],k[1]),C=(0,a.useState)(""),A=(0,g.Z)(C,2),D=A[0],E=A[1],P=(0,a.useState)(""),U=(0,g.Z)(P,2),I=U[0],_=U[1],z=(0,a.useState)(""),F=(0,g.Z)(z,2),H=F[0],M=F[1],L=(0,a.useState)(""),W=(0,g.Z)(L,2),T=W[0],V=W[1],B=(0,a.useState)(""),Y=(0,g.Z)(B,2),R=Y[0],q=(Y[1],(0,a.useState)("")),J=(0,g.Z)(q,2),G=J[0],K=J[1],O=(0,h.s0)();(0,a.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var t,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,x.Z.get("/story/editStory/".concat(l),r);case 4:t=e.sent,a=t.data,S(a.data),M(a.data.title),V(a.data.content),E(a.data.image),_(a.data.image),b(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),O("/");case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var Q=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("title",H),a.append("content",T),a.append("image",D),a.append("previousImage",I),e.prev=6,e.next=9,j.Z.put("".concat(w.addstory_url,"/story/").concat(l,"/edit"),a,r);case 9:s=e.sent,s.data,(0,u.Am)("Edit Story Successfully"),setTimeout((function(){O("/blogs")}),2500),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),setTimeout((function(){K("")}),4500),K(e.t0.response.data.error);case 19:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t){return e.apply(this,arguments)}}();return(0,n.jsx)(n.Fragment,{children:m?(0,n.jsx)(Z.Z,{}):(0,n.jsx)("div",{className:"Inclusive-editStory-page ",children:(0,n.jsxs)("form",{onSubmit:Q,className:"editStory-form",children:[G&&(0,n.jsx)("div",{className:"error_msg",children:G}),R&&(0,n.jsxs)("div",{className:"success_msg",children:[(0,n.jsx)("span",{children:R}),(0,n.jsx)(s.rU,{to:"/",children:"Go home"})]}),(0,n.jsx)("input",{type:"text",required:!0,id:"title",placeholder:"Title",onChange:function(e){return M(e.target.value)},value:H}),(0,n.jsx)("div",{className:"prose",style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,n.jsx)(f.CKEditor,{editor:v(),config:{toolbar:["heading","|","bold","italic","blockQuote","link","numberedList","bulletedList"]},onChange:function(e,t){var r=t.getData();V(r)},data:T})}),(0,n.jsxs)("div",{class:"currentlyImage",children:[(0,n.jsx)("div",{class:"absolute",children:"Currently Image"}),(0,n.jsx)("img",{src:"".concat(w.backend_resourse,"/storyImages/").concat(I),alt:"storyImage"})]}),(0,n.jsxs)("div",{class:"StoryImageField",children:[(0,n.jsx)(y.aBR,{}),(0,n.jsx)("div",{class:"txt",children:D===I?"    Change the image in your story ":D.name}),(0,n.jsx)("input",{name:"image",type:"file",ref:c,onChange:function(e){E(e.target.files[0])}})]}),(0,n.jsx)("button",{type:"submit",className:"editStory-btn",children:"Edit Story "})]})})})},S=r(6709),C=function(){var e=(0,a.useContext)(c.S),t=e.user,r=e.isAuthenticated,s=e.getAllUsers;return(0,a.useEffect)((function(){s()}),[]),(0,n.jsx)(d.j,{children:(0,n.jsx)("div",{className:" max-w-[1440px] mx-auto",children:r&&"admin"===(null===t||void 0===t?void 0:t.role)?(0,n.jsxs)("div",{className:"relative min-h-[80vh] overflow-hidden flex flex-col md:flex-row",children:[(0,n.jsx)(l,{}),(0,n.jsx)("main",{className:" mt-40 md:mt-0 max-h-screen overflow-auto flex-1",children:(0,n.jsx)("div",{className:"px-2 md:px-6 py-8",children:(0,n.jsxs)(h.Z5,{children:[(0,n.jsx)(h.AW,{index:!0,path:"users",element:(0,n.jsx)(p,{})}),(0,n.jsx)(h.AW,{path:"post/new",element:(0,n.jsx)(N,{})}),(0,n.jsx)(h.AW,{path:"story/:slug/edit",element:(0,n.jsx)(k,{})}),(0,n.jsx)(h.AW,{path:"settings",element:(0,n.jsx)(S.Z,{})})]})})})]}):(0,n.jsx)("div",{children:"Loading"})})})}},6709:function(e,t,r){r.d(t,{Z:function(){return j}});var a=r(2791),s=r(4165),n=r(5861),l=r(4942),o=r(1413),i=r(9439),c=r(184),d=function(e){var t=e.heading,r=e.children;return(0,c.jsxs)("div",{className:" mx-3 my-4 shadow-gray-300 rounded-md shadow-md px-10 py-7",children:[(0,c.jsx)("h3",{className:" my-2 mb-4 text-2xl font-bold",children:t}),r]})},u=r(9085),x=r(583),p=r(3872),h=function(){var e=(0,a.useState)({}),t=(0,i.Z)(e,2),r=t[0],h=t[1],m=(0,a.useContext)(x.S),g=m.user,f=m.getUserData,b=function(e){var t=e.target,r=t.name,a=t.value;h((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,l.Z)({},r,a))}))},v=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(t){var a,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,console.log("request_data: ",r),e.next=5,p.Z.put("/me",r);case 5:a=e.sent,n=a.data,f(),console.log("data: ",n),(0,u.Am)("Profile Updated!"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("Error: ",e.t0),(0,u.Am)("Profile Udpated Failed!");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){h({firstName:null===g||void 0===g?void 0:g.firstName,lastName:null===g||void 0===g?void 0:g.lastName,country:null===g||void 0===g?void 0:g.country,emailUpdate:null===g||void 0===g?void 0:g.emailUpdate})}),[]),(0,c.jsx)(d,{heading:"My Details",children:(0,c.jsx)("div",{children:(0,c.jsxs)("form",{class:"w-full max-w-lg",onSubmit:v,children:[(0,c.jsxs)("div",{class:"flex flex-wrap -mx-3 mb-6",children:[(0,c.jsxs)("div",{class:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:[(0,c.jsx)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-first-name",children:"First Name"}),(0,c.jsx)("input",{onChange:b,name:"firstName",value:null===r||void 0===r?void 0:r.firstName,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-red-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white",id:"grid-first-name",type:"text",placeholder:"Jane"})]}),(0,c.jsxs)("div",{class:"w-full md:w-1/2 px-3",children:[(0,c.jsx)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-last-name",children:"Last Name"}),(0,c.jsx)("input",{onChange:b,name:"lastName",value:null===r||void 0===r?void 0:r.lastName,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-last-name",type:"text",placeholder:"Doe"})]})]}),(0,c.jsx)("div",{class:"flex flex-wrap -mx-3 mb-2",children:(0,c.jsxs)("div",{class:"w-full md:w-1/2 px-3 mb-6 md:mb-0",children:[(0,c.jsx)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-state",children:"Country"}),(0,c.jsx)("input",{onChange:b,name:"country",value:null===r||void 0===r?void 0:r.country,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-last-name",type:"text",placeholder:"Enter Your Country"})]})}),(0,c.jsx)("button",{className:" bg-blue-600 py-3 px-5 rounded text-white mt-4",type:"submit",children:"Update Details"})]})})})},m=function(){var e=(0,a.useState)(""),t=(0,i.Z)(e,2),r=t[0],l=t[1],o=(0,a.useState)(""),x=(0,i.Z)(o,2),h=x[0],m=x[1],g=(0,a.useState)(""),f=(0,i.Z)(g,2),b=f[0],v=f[1],y=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h===b){e.next=3;break}return(0,u.Am)("New Password Must repeat same"),e.abrupt("return");case 3:return t={currentPassword:r,newPassword:h,confirmNewPassword:b},e.prev=4,e.next=7,p.Z.put("/changepassword",t);case 7:e.sent,(0,u.Am)("password changed!"),l(""),m(""),v(""),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log("Error: ",e.t0),(0,u.Am)("Error While Password Change");case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(){return e.apply(this,arguments)}}();return(0,c.jsxs)(d,{heading:"Change Password",children:[(0,c.jsx)("div",{class:"flex flex-wrap -mx-3 mb-6 w-8/12",children:(0,c.jsxs)("div",{class:"w-full px-3",children:[(0,c.jsx)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-password",children:"Current Password"}),(0,c.jsx)("input",{onChange:function(e){return l(e.target.value)},value:r,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-password",type:"password",placeholder:"Current Password"})]})}),(0,c.jsx)("div",{class:"flex flex-wrap -mx-3 w-8/12",children:(0,c.jsxs)("div",{class:"w-full px-3",children:[(0,c.jsx)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-password",children:"New Password"}),(0,c.jsx)("input",{onChange:function(e){return m(e.target.value)},value:h,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-password",type:"password",placeholder:"New Password"})]})}),(0,c.jsx)("div",{class:"flex flex-wrap -mx-3 w-8/12",children:(0,c.jsx)("div",{class:"w-full px-3",children:(0,c.jsx)("input",{onChange:function(e){return v(e.target.value)},value:b,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-password",type:"password",placeholder:"Confirm Password"})})}),(0,c.jsx)("button",{onClick:y,className:" bg-blue-600 py-3 px-5 rounded text-white mt-4",type:"submit",children:"Change Password"})]})},g=r(98),f=r(7689),b=function(){var e=(0,f.s0)(),t=(0,a.useContext)(g._).usage,r=(0,a.useContext)(x.S),l=r.setIsAuthenticated,o=r.setUser,i=function(){var t=(0,n.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.Z.delete("/account");case 3:t.sent,(0,u.Am)("Account Successfuly Deleted"),delete p.Z.defaults.headers.common.Authorization,localStorage.removeItem("teachai_token"),localStorage.removeItem("teachai_user"),l(!1),o(null),e("/"),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("Error While Deleting ACcount: ",t.t0),(0,u.Am)("Error While Deleting Account");case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}();return(0,c.jsx)(d,{heading:"My Subscription",children:(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("span",{className:" text-2xl font-bold",children:"Access Level:"})," ",null===t||void 0===t?void 0:t.plan," "]}),(0,c.jsx)("button",{onClick:i,className:" bg-blue-600 py-3 px-5 rounded text-white mt-4",type:"submit",children:"Account Deletion"})]})})},v=function(){var e=(0,a.useState)(""),t=(0,i.Z)(e,2),r=t[0],l=t[1],o=(0,a.useState)(""),x=(0,i.Z)(o,2),h=x[0],m=x[1],g=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:r,password:h},e.prev=1,e.next=4,p.Z.put("/changeEmail",t);case 4:e.sent,(0,u.Am)("Email Changed"),l(""),m(""),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Error: ",e.t0),(0,u.Am)("Error While changing the Email!");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return(0,c.jsx)(d,{heading:"Change Email Address",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{class:"flex flex-wrap -mx-3 w-8/12",children:(0,c.jsxs)("div",{class:"w-full px-3",children:[(0,c.jsx)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-password",children:"Email"}),(0,c.jsx)("input",{onChange:function(e){return l(e.target.value)},value:r,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-password",type:"email",placeholder:"Enter Your New Email"})]})}),(0,c.jsx)("div",{class:"flex flex-wrap -mx-3 w-8/12",children:(0,c.jsxs)("div",{class:"w-full px-3",children:[(0,c.jsx)("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"grid-password",children:"Confirm Password"}),(0,c.jsx)("input",{onChange:function(e){return m(e.target.value)},value:h,class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-password",type:"password",placeholder:"Your Password"})]})}),(0,c.jsx)("button",{onClick:g,className:" bg-blue-600 py-3 px-5 rounded text-white mt-4",type:"submit",children:"Change Email Address"})]})})},y=function(){var e=(0,a.useContext)(x.S),t=e.user,r=e.getUserData,l=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(t){var a,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.Z.put("/enable-2fa",{enabled:t});case 3:a=e.sent,a.data,n=t?"2FA is Enabled":"2FA is Disabled",(0,u.Am)(n),r(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),(0,u.Am)("error while 2fa");case 13:console.log("change 2fa");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,c.jsx)(d,{heading:"Secure Your Account",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xl font-['Poppins']",children:"Two-factor authentication adds an extra layer of security to your account. To log in, in addition you'll need to provide a 6 digit code."}),(0,c.jsxs)("div",{className:"flex gap-5",children:[(0,c.jsx)("button",{className:" bg-blue-600 py-3 px-5 rounded text-white mt-4",type:"submit",children:"Enable 2FA"}),(0,c.jsx)("button",{onClick:function(){return l(!0)},className:" border-2 border-blue-600 py-3 px-5 rounded mt-4",type:"submit",children:"Yes"}),(0,c.jsx)("button",{onClick:function(){return l(!1)},className:" border-2 border-blue-600 py-3 px-5 rounded mt-4",type:"submit",children:"No"})]}),(0,c.jsxs)("div",{children:["Status: ",null!==t&&void 0!==t&&t.TwoFA?"Yes":"No"]})]})})},j=function(){return(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:" grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,c.jsx)(h,{}),(0,c.jsx)(y,{}),(0,c.jsx)(m,{}),(0,c.jsx)(v,{}),(0,c.jsx)(b,{})]})})}},224:function(e,t,r){r.d(t,{Z:function(){return s}});r(2791);var a=r(184),s=function(){return(0,a.jsx)("div",{className:"mask",children:(0,a.jsx)("div",{className:"loader"})})}}}]);
//# sourceMappingURL=149.6db1aedd.chunk.js.map